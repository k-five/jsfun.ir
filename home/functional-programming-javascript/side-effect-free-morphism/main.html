<main>
	<div class="content-r">
		<h1>side-effect-free-morphism</h1>
        <hr>
        <p>So far we have learned about five crucial concepts</p>
        <ol>
            <li>function as first class citizen</li>
            <li>closure</li>
            <li>currying</li>
            <li>partial application</li>
            <li>composition</li>
        </ol>
        <p>Also functions and data we use should be</p>
        <ol>
            <li>pure function</li>
            <li>immutable data</li>
        </ol>
        <p>All these seven things leads us to have side effect free morphism.</p>
        <p>We already talked about <strong>side effect</strong>, a state change in our application that is shared between some parts of our application (= code).</p>
        <p>Applications with many side effects are</p>
        <ul>
            <li>harder to debug</li>
            <li>harder to change or refactor</li>
            <li>harder to maintain</li>
        </ul>
        <p>To eliminating these problems the with the idea of function programming is to have some functions (= pure functions) that by composing them we can  tackle most part of our application.</p>
        <p>So our pure functions play an important role in this scenario.</p>

        <h3 class="sub-title">Morphism</h3>
        <p>The term <strong>morph</strong> means: <i>to change something from one image to another using computer animation</i>. Oxford Dictionary.</p>
        <p>In FP it means <i>changing from one type to another type</i>. It may be a different type or the same type but an <strong>operation</strong> happens here (= between type A, to type B).</p>
        <p>The <strong>free</strong> part is obvious and refers to not having side effect. Thus the whole phrase, side effect free morphism, means: changing from one type to another type free of any side effects.</p>
        <p>Who does the change? <strong>Pure functions</strong>.</p>
        <p>What kind of data do we use? As much as be possible <strong>immutable data</strong>.</p>
        <p>How can we solve our problems? Using <strong>composition</strong>.</p>
        <p>Composition works because of what concepts or features we have?</p>
        <p>Because of these:</p>
        <ol>
            <li>function as first class citizen</li>
            <li>closure</li>
            <li>currying</li>
            <li>partial application</li>
        </ol>
        <p>So we talked about all the thing till this point to have a side effect free morphism. Like what we did in a few posts ago.</p>
<pre><code class="language-javascript">R.pipe(
    fs.readFileSync,                // read the file
    toString,                       // convert it to string
    R.split( newLine ),             // array of lines
    R.map( lineToWord ),            // array of array of words
    R.flatten,                      // flatten it, array of array to array
    R.filter( ignoreEmtpyItem ),    // remove empty items
    R.sort( sortByLength ),         // sort by item's length
    R.map( mapLengthToString ),     // a single string for each item
    R.reduce( arrayToString, "" ),  // everything to a single string
    log                             // print
)( filename );</code></pre>

        <p>Our data, when it is read from file-system, is morphed step by step till printing it using console.log. All of these functions are pure, there is no side effects, so we could solve or problem using side effect free morphism.</p>


		DD_MM_YYYY
        <div class="edit-on-github">
            <a target="_blank" href="https://github.com/k-five/jsfun.ir/blob/master/home/functional-programming-javascript/side-effect-free-morphism/main.html">Edit on Github</a>
        </div>
	</div>
</main>
